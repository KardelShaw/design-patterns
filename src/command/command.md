#命令(Command)模式

##一. 举例说明

我们知道，在多线程程序中，多个用户都给系统发 Read 和 Write 命令。这里有几点需要说明：

1. 首先明确一点，所有的这些 Read 和 Write 命令都是调用一个库函数。
2. 用户并不需要知道别的用户的存在，也不管别人发不发命令，只管自己发命令，最后给结果即可。
3. 这些命令先是到了一个消息队列里面，然后由消息队列调用库函数。
结构图如下：
![结构图](./uml1.png)

##二. 命令模式

定义：将一个请求封装为一个对象，从而使你可用不同的请求对客户时行参数化;对请求排队或记录请求日志，以及支持可撤销的操作。

![命令模式](./uml2.png)

优点：

1. 它能比较容易地设计一个命令队列。
2. 在需要的情况下，可以较容易地将命令记入日志。
3. 允许接收请求的一方决定是否要否决请求。
4. 可以容易地实现对请求的撤销和重做。
5. 增加新的具体命令类很容易
6. 把请求一个操作的对象(Command)与知道怎么执行一个操作的对象(Receiver)分割开来。